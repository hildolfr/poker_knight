Test: test_cache_with_redis_demo
File: test_cache_with_redis_demo.py
Status: error
Execution time: 13.96s
Exit code: 1
Timestamp: 2025-06-02 01:37:07.750036

Deadlock indicators:
  - Redis connection issue
  - Cache system deadlock

STDOUT:
Successfully imported Poker Knight components
Poker Knight Redis Cache Demonstration
============================================================

Demonstrating Poker Knight Cache System
==================================================
Test 1: Memory-only cache configuration
  Redis client initialized: False
  Cache mode: Memory-only

Test 2: Redis-enabled cache configuration
  Redis available: True
  Redis client initialized: False
  Cache mode: Memory-only (Redis fallback)

Redis-Specific Features Demonstration
==================================================
1. Persistence across restarts
   Description: Cache survives application restarts when Redis is used
   Benefit:     Faster startup times for production deployments

2. Shared cache across processes
   Description: Multiple application instances can share the same cache
   Benefit:     Efficient resource usage in distributed systems

3. Memory management
   Description: Redis handles memory eviction and expiration policies
   Benefit:     Prevents memory leaks in long-running applications

4. Enterprise clustering
   Description: Redis supports clustering for high availability
   Benefit:     Production-grade scalability and fault tolerance

5. Monitoring and metrics
   Description: Redis provides built-in monitoring capabilities
   Benefit:     Operational visibility into cache performance


Testing Cache Performance with Monte Carlo Solver
==================================================
Checking cache coverage...
Cache populated with 6084 scenarios
Cache coverage: 60000.0%
Future queries will be significantly faster!
Running scenarios to populate cache...

Scenario 1: Pocket Aces vs 2 opponents
  First run (no cache):  2.303s - Win rate: 73.2%
  Second run (cached):   0.000s - Win rate: 73.2%
  Cache speedup: 36451.9x faster

Scenario 2: Kings on Ace-high board
  First run (no cache):  0.000s - Win rate: 79.0%
  Second run (cached):   0.000s - Win rate: 79.0%
  Cache speedup: 3.8x faster

Scenario 3: Queens vs 3 opponents
  First run (no cache):  2.985s - Win rate: 52.2%
  Second run (cached):   0.000s - Win rate: 52.2%
  Cache speedup: 48716.3x faster

Performance Summary:
  Average uncached time: 1.763s
  Average cached time:   0.000s
  Average speedup:       30095.8x

Redis not available - showing setup guide:

Redis Setup Guide
==================================================
Windows:
  Download Redis for Windows from:
  https://github.com/microsoftarchive/redis/releases
  
  Or use Windows Subsystem for Linux (WSL):
  1. Enable WSL: wsl --install
  2. Install Ubuntu: wsl --install -d Ubuntu
  3. In WSL: sudo apt update && sudo apt install redis-server
  4. Start Redis: sudo service redis-server start

Ubuntu/Debian:
  sudo apt update
  sudo apt install redis-server
  sudo systemctl start redis-server
  sudo systemctl enable redis-server

macOS:
  brew install redis
  brew services start redis
  
  Or manually:
  redis-server /usr/local/etc/redis.conf

Docker:
  docker pull redis:7-alpine
  docker run -d -p 6379:6379 --name poker-redis redis:7-alpine
  
  For persistent storage:
  docker run -d -p 6379:6379 -v redis-data:/data --name poker-redis redis:7-alpine redis-server --appendonly yes


============================================================
DEMONSTRATION SUMMARY
============================================================
Redis Status:       Not Available
Cache Performance:  Good
Fallback Working:   Yes

Caching System Status:

Demonstration failed with error: 'charmap' codec can't encode character '\u2713' in position 0: character maps to <undefined>


STDERR:
Traceback (most recent call last):
  File "C:\Users\User\Documents\cursor_projects\poker_knight\test_cache_with_redis_demo.py", line 263, in main
    print("\u2713 Memory-only caching enabled - development ready")
    ~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Python313\Lib\encodings\cp1252.py", line 19, in encode
    return codecs.charmap_encode(input,self.errors,encoding_table)[0]
           ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
UnicodeEncodeError: 'charmap' codec can't encode character '\u2713' in position 0: character maps to <undefined>

